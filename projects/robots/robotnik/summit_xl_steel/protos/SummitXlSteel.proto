#VRML_SIM R2021a utf8
# license: Copyright Cyberbotics Ltd. Licensed for use only with Webots.
# license url: https://cyberbotics.com/webots_assets_license
# This is a proto file for Webots for the robot Summit-XL Steel from Robotnik Automation (Spain).
# The meshes are taken from the original GitHub repository: https://github.com/RobotnikAutomation/summit_xl_common.

PROTO SummitXlSteel [
  field  SFVec3f     translation     0 0.118 0
  field  SFRotation  rotation        1 0 0 -1.5708
  field  SFString    name            "Summit-XL Steel" # Is `Robot.name`.
  field  SFString    controller      "void"            # Is `Robot.controller`.
  field  MFString    controllerArgs  []                # Is `Robot.controllerArgs`.
  field  SFString    customData      ""                # Is `Robot.customData`.
  field  SFBool      supervisor      FALSE             # Is `Robot.supervisor`.
  field  SFBool      synchronization TRUE              # Is `Robot.synchronization`.
  field  SFBool      selfCollision   FALSE             # Is `Robot.selfCollision`.
  field  MFNode      frontLidarSlot  []                # Extends the robot with a front lidar sensor.
  field  MFNode      backLidarSlot   []                # Extends the robot with a back lidar sensor.
  field  MFNode      bodySlot        []                # Extends the robot (with a conveyor platform for example).
]
{
  Robot {
    translation IS translation
    rotation IS rotation
    controller IS controller
    controllerArgs IS controllerArgs
    customData IS customData
    supervisor IS supervisor
    synchronization IS synchronization
    selfCollision IS selfCollision
    name IS name
    children [
      Shape {
        appearance PBRAppearance {
          baseColor 0 0 0
          transparency 0
          roughness 1
          metalness 0
          emissiveColor 0 0 0
        }
        geometry Mesh {
          url [
            "meshes/summit_xls_chassis.dae"
          ]
        }
      }
      Solid {
        translation 0 0 0.39062
        children [
          Shape {
            appearance DEF DARKGREY PBRAppearance {
              baseColor 0.5 0.5 0.5
              transparency 0
              roughness 1
              metalness 0
              emissiveColor 0 0 0
            }
            geometry Mesh {
              url [
                "meshes/summit_xls_chapas_inox_tapas.stl"
              ]
            }
          }
        ]
        name "summit_xl_base_chapa"
      }
      Transform{
        translation 0 0 0.39062
        children IS bodySlot
      }
      Solid {
        translation 0 0.28931 0.29062
        children [
          DEF LOGO Shape {
            appearance USE DARKGREY
            geometry Mesh {
              url [
                "meshes/robotnik_logo_chasis.stl"
              ]
            }
          }
        ]
        name "summit_xl_base_logo_left"
      }
      Solid {
        translation 0 -0.28931 0.29062
        rotation 0 0 1 3.141593
        children [
          USE LOGO
        ]
        name "summit_xl_base_logo_right"
      }
      Solid {
        translation 0.345 0 0
        rotation 0 0 -1 1.570796
        children [
          USE LOGO
        ]
        name "summit_xl_base_logo_front"
      }
      Solid {
        translation -0.345 0 0
        rotation 0 0 1 1.570796
        children [
          USE LOGO
        ]
        name "summit_xl_base_logo_rear"
      }
      Solid {
        translation 0.35 0 0.09
        name "summit_xl_base_docking_contact"
      }
      HingeJoint {
        jointParameters HingeJointParameters {
          position -5.874687346426068e-11
          axis 0 1 0
            anchor 0.2225 -0.2045 0
        }
        device [
          RotationalMotor {
            name "summit_xl_front_right_wheel_joint"
            maxVelocity 100
            maxTorque 100
          }
          PositionSensor {
            name "summit_xl_front_right_wheel_joint_sensor"
          }
        ]
        endPoint Solid {
          translation 0.22249917736358657 -0.20449996661010172 0.0031858493220075766
          rotation 1 0 0 1.5708
          children [
            DEF INTERIOR_WHEEL Group{
              children [
                Shape {
                  appearance DEF WHEEL_APPEARANCE PBRAppearance {
                    baseColor 0.381347 0.381347 0.381347
                    transparency 0
                    roughness 0.8
                    metalness 0
                    emissiveColor 0.202 0.202 0.202
                  }
                  geometry Mesh {
                    url [
                      "meshes/omni_wheel_rims_int.dae"
                    ]
                  }
                }
                Shape {
                  appearance DEF ROLLERS_APPEARANCE PBRAppearance {
                    baseColor 0.081320 0.081320 0.081320
                    transparency 0
                    roughness 0.8
                    metalness 0
                    emissiveColor 0 0 0
                  }
                  geometry Mesh {
                    url [
                      "meshes/omni_wheel_rollers_int.dae"
                    ]
                  }
                }
              ]
            }
          ]
          contactMaterial "InteriorWheelMat"
          name "summit_xl_front_right_wheel_link"
          boundingObject Transform {
            rotation 1 0 0 1.5708
            children [
              Cylinder {
                height 0.087
                radius 0.123
              }
            ]
          }
          physics Physics {
            density -1
            mass 6.5
            centerOfMass [
              0 0 0
            ]
            inertiaMatrix [
              0.0303095 0.05241925 0.0303095
              0 0 0
            ]
          }
        }
      }
      HingeJoint {
        jointParameters HingeJointParameters {
          position 2.0399465068926186e-10
          axis 0 1 0
          anchor 0.2225 0.2045 0
        }
        device [
          RotationalMotor {
            name "summit_xl_front_left_wheel_joint"
            maxVelocity 100
            maxTorque 100
          }
          PositionSensor {
            name "summit_xl_front_left_wheel_joint_sensor"
          }
        ]
        endPoint Solid {
          translation 0.2224991777388674 0.20450003337390876 0.0031841200540263536
          rotation 1 0 0 1.5708
          children [
            DEF EXTERIOR_WHEEL Group{
              children [
                Shape {
                  appearance USE WHEEL_APPEARANCE
                  geometry Mesh {
                    url [
                      "meshes/omni_wheel_rims_ext.dae"
                    ]
                  }
                }
                Shape {
                  appearance USE ROLLERS_APPEARANCE
                  geometry Mesh {
                    url [
                      "meshes/omni_wheel_rollers_ext.dae"
                    ]
                  }
                }
              ]
            }
          ]
          contactMaterial "ExteriorWheelMat"
          name "summit_xl_front_left_wheel_link"
          boundingObject Transform {
            rotation 1 0 0 1.5708
            children [
              Cylinder {
                height 0.087
                radius 0.123
              }
            ]
          }
          physics Physics {
            density -1
            mass 6.5
            centerOfMass [
              0 0 0
            ]
            inertiaMatrix [
              0.0303095 0.05241925 0.0303095
              0 0 0
            ]
          }
        }
      }
      HingeJoint {
        jointParameters HingeJointParameters {
          position 5.222695804381642e-10
          axis 0 1 0
          anchor -0.2225 0.2045 0
        }
        device [
          RotationalMotor {
            name "summit_xl_back_left_wheel_joint"
            maxVelocity 100
            maxTorque 100
          }
          PositionSensor {
            name "summit_xl_back_left_wheel_joint_sensor"
          }
        ]
        endPoint Solid {
          translation -0.22250081187571416 0.2045000329443426 0.003137893294215752
           rotation 1 0 0 1.5708
          children [
            USE INTERIOR_WHEEL
          ]
          contactMaterial "InteriorWheelMat"
          name "summit_xl_back_left_wheel_link"
          boundingObject Transform {
            rotation 1 0 0 1.5708
            children [
              Cylinder {
                height 0.087
                radius 0.123
              }
            ]
          }
          physics Physics {
            density -1
            mass 6.5
            centerOfMass [
              0 0 0
            ]
            inertiaMatrix [
              0.0303095 0.05241925 0.0303095
              0 0 0
            ]
          }
        }
      }
      HingeJoint {
        jointParameters HingeJointParameters {
          position 1.9793720854869013e-10
          axis 0 1 0
          anchor -0.2225 -0.2045 0
        }
        device [
          RotationalMotor {
            name "summit_xl_back_right_wheel_joint"
            maxVelocity 100
            maxTorque 100
          }
          PositionSensor {
            name "summit_xl_back_right_wheel_joint_sensor"
          }
        ]
        endPoint Solid {
          translation -0.2225008122870762 -0.20449996703966933 0.0031396225621880152
          rotation 1 0 0 1.5708
          children [
            USE EXTERIOR_WHEEL
          ]
          contactMaterial "ExteriorWheelMat"
          name "summit_xl_back_right_wheel_link"
          boundingObject Transform {
            rotation 1 0 0 1.5708
            children [
              Cylinder {
                height 0.087
                radius 0.123
              }
            ]
          }
          physics Physics {
            density -1
            mass 6.5
            centerOfMass [
              0 0 0
            ]
            inertiaMatrix [
              0.0303095 0.05241925 0.0303095
              0 0 0
            ]
          }
        }
      }
      Solid {
        translation 0.127 -0.129 0.212
        children [
          Shape {
            appearance PBRAppearance {
              baseColor 0.5 0.5 0.5
              roughness 1
              metalness 0
            }
            geometry Box {
              size 0.001 0.001 0.001
            }
          }
          Accelerometer {
            name "imu/data_raw accelerometer"
          }
          Gyro {
            name "imu/data_raw gyro"
          }
          Compass {
            name "imu/data_raw compass"
          }
        ]
        name "summit_xl_imu_link"
        # mass neglected (0.001kg).
      }
      Transform {
        translation 0.2865 -0.20894 0.18
        rotation -0.8629 -0.3574 0.3574 1.7178
        children IS frontLidarSlot
      }
      Transform {
        translation -0.2865 0.20894 0.18
        rotation 0.2811 -0.6786 0.6786 -2.5936
        children IS backLidarSlot
      }
      Solid {
        translation 0.3585 0 0.25062
        children [
          Solid {
            rotation -0.5774 0.5774 -0.5774 2.0944
            name "summit_xl_front_rgbd_camera_rgb_optical_frame"
          }
          Solid {
            translation 0 -0.0125 -0.015
            children [
              Shape {
                appearance USE DARKGREY
                geometry Mesh {
                  url [
                    "meshes/orbbec_astra.dae"
                  ]
                }
              }
            ]
            name "summit_xl_front_rgbd_camera_link"
            boundingObject Transform {
              translation -0.02 0 0.015
              children [
                Box {
                  size 0.04 0.165 0.03
                }
              ]
            }
            # mass neglected (0.564kg).
          }
          Solid {
            translation 0 0.025 0
            children [
              Solid {
                rotation -0.5774 0.5774 -0.5774 2.0944
                name "summit_xl_front_rgbd_camera_depth_optical_frame"
              }
            ]
            name "summit_xl_front_rgbd_camera_depth_frame"
          }
        ]
        name "summit_xl_front_rgbd_camera_rgb_base_link"
        # mass neglected (0.001kg).
      }
    ]
    boundingObject Group {
      children [
        Transform {
         translation 0 0 0.3
          children [
            Box {
              size 0.719 0.57861 0.18
            }
          ]
        }
        Transform {
         translation 0 0 0.176
          children [
            Box {
              size 0.524 0.27 0.06495
            }
          ]
        }
        Transform {
          translation 0 0 0.046225
          children [
            Box {
              size 0.69 0.27 0.1945
            }
          ]
        }
      ]
    }
    physics Physics {
      density -1
      mass 125
      centerOfMass [
        0 0 0
      ]
      inertiaMatrix [
        1.391 6.853 6.125
        0.004 0 0
      ]
    }
  }
}
